---
title: "如何匯入 SSL 憑證到 AWS Certificate Manager"
date: 2016-11-12
type: blog
author: 凍仁翔
link: http://note.drx.tw/2016/11/how-to-import-ssl-certificate-to-acm.html
layout: post
comments: true
---

<a href="https://aws.amazon.com/tw/certificate-manager/" target="_blank">AWS Certificate Manager (ACM)</a> 是 AWS 推出用來管理、部署 SSL 憑證的免費 <a href="https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6%E5%8D%B3%E6%9C%8D%E5%8A%A1" target="_blank">SaaS</a> 服務 (前提是得搭配 <a href="https://aws.amazon.com/tw/elasticloadbalancing/" target="_blank" title="負載平衡">Elastic Load Balancing (ELB)</a> 或 <a href="https://aws.amazon.com/tw/cloudfront/" target="_blank" title="內容交付網路 (CDN)">CloudFront</a> 一起使用)。近日凍仁接獲幫公司更新 SSL 憑證的任務便把玩了一下，第一次接觸總有些膽顫心驚，相信這份筆記可以讓多年後的凍仁就不用再緊張一次了。<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-pco7NYZGJFE/WCabscR9CKI/AAAAAAAAc7s/_6nKlI8YW4oj7cB8b-pKNIf06zUyJbEaQCLcB/s1600/2016-11-12-aws-acm0.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="320" src="https://3.bp.blogspot.com/-pco7NYZGJFE/WCabscR9CKI/AAAAAAAAc7s/_6nKlI8YW4oj7cB8b-pKNIf06zUyJbEaQCLcB/s400/2016-11-12-aws-acm0.png" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">▲ AWS 官方的 ACM 介紹。</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"></div><a name='more'></a><br />1. 登入 AWS Console 主控台，並找到 <b>Certificate Manager</b>。<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-62y88b0d660/WCZ9cvUoWEI/AAAAAAAAc7U/RXvZ67NkUF83sWbzoZlQiD2F2pBpv22FQCLcB/s1600/2016-11-12-aws-acm1.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="337" src="https://1.bp.blogspot.com/-62y88b0d660/WCZ9cvUoWEI/AAAAAAAAc7U/RXvZ67NkUF83sWbzoZlQiD2F2pBpv22FQCLcB/s400/2016-11-12-aws-acm1.png" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">▲ 除了在 Dashboard 進入 Certificate Manager 外，我們還可以從 <b>Security &amp; Identity</b> 分類進入。</td></tr></tbody></table><br />2. 按下 <b>Import a certificate</b> 或 <b>Reimport certificate</b>。<br />3. 參照 AWS 官方文件，依序填入 Certificate body, Certificate private key 和 Certificate chain <sup><a href="http://note.drx.tw/2016/11/how-to-import-ssl-certificate-to-acm.html#certificate_chain">1</a></sup>。<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://3.bp.blogspot.com/-eVH_2KlbN8c/WCZ9cpTIq6I/AAAAAAAAc7Y/nhBhfP8nX9Y0on1pVVhwL7n6X1034HmTgCLcB/s1600/2016-11-12-aws-acm2.png" style="margin-left: auto; margin-right: auto;"><img border="0" height="337" src="https://3.bp.blogspot.com/-eVH_2KlbN8c/WCZ9cpTIq6I/AAAAAAAAc7Y/nhBhfP8nX9Y0on1pVVhwL7n6X1034HmTgCLcB/s400/2016-11-12-aws-acm2.png" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">▲ ACM 匯入 SSL Certificate 的主界面。</td></tr></tbody></table><br /><ul><li>Certificate body: 請填入憑證廠商給予的<b>網頁伺服器憑證 (Web Server Certificate)</b>。<br /><blockquote>-----BEGIN CERTIFICATE-----<br />Base64-encoded certificate<br />-----END CERTIFICATE-----</blockquote></li><li>Certificate private key: 請填入製作<b>憑證請求檔 (Certificate Signing Request, CSR)</b> 時所產生的<b>私鑰 (Private Key)</b>。<br /><blockquote>-----BEGIN RSA PRIVATE KEY-----<br />Base64-encoded private key<br />-----END RSA PRIVATE KEY-----</blockquote></li><li>Certificate chain: 請填入憑證廠商給予的<b>憑證串鍊 (Intermediate CA)</b>。<br /><blockquote>-----BEGIN CERTIFICATE-----<br />Base64-encoded certificate<br />-----END CERTIFICATE-----</blockquote></li></ul><br />4. 如果是使用 <b>Reimport certificate</b> 的話，則會看到前後兩個憑證的對照資訊。<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-hzm7rOhDyu0/WCZ9bBjYsnI/AAAAAAAAc7Q/hg1wOphk6N8sPyiknkXZbQOT-mCL06g4ACLcB/s1600/2016-11-12-aws-acm3.png" style="margin-left: auto; margin-right: auto;"><img border="0" height="337" src="https://1.bp.blogspot.com/-hzm7rOhDyu0/WCZ9bBjYsnI/AAAAAAAAc7Q/hg1wOphk6N8sPyiknkXZbQOT-mCL06g4ACLcB/s400/2016-11-12-aws-acm3.png" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">▲ 左方為當前的 SSL 憑證，而右方為新匯入的 SSL 憑證。</td></tr></tbody></table><br />5. 大功告成！記得把剛匯入的 Certificate 識別碼 (Identifier) 記好以免日後搞混。<br /><br />SSL 憑證一般是 1 ~ 3 年換一次，下次再回來看這篇文章應該是 2, 3 年過了！期許那時的凍仁早已拿到至少一張的 AWS 相關證照！！！<br /><br /><span class="Comment"><a href="http://note.drx.tw/2016/11/how-to-import-ssl-certificate-to-acm.html#certificate_chain" id="certificate_chain"></a><sup>1</sup> 本範例使用的 SSL 憑證是從 <a href="https://www.namecheap.com/" target="_blank">NameCheap</a> 所核定的，別家廠商可能會用不同於 <i>INTERMEDIATE CA</i> 的字眼。</span><br /><br /><code class="ref">相關連結：<br /><span style="color: #ffdb00;">★</span> <a href="https://www.namecheap.com/support/knowledgebase/article.aspx/9446/0/apache-opensslmodsslnginx" target="_blank">Generating CSR on Apache + OpenSSL/ModSSL/Nginx + Heroku | Namecheap.com Knowledgebase</a><br /><span style="color: #ffdb00;">★</span> <a href="http://gca.nat.gov.tw/download/GCA_Apache_CSR_and_INSTALL.pdf" target="_blank">Apache SSL 憑證請求檔製作與憑證安裝手冊 - GCA_Apache_CSR_and_INSTALL.pdf</a><br /><span style="color: #ffdb00;">★</span> <a href="https://www.sslbuyer.com/index.php?option=com_content&amp;view=article&amp;id=42&amp;Itemid=183" target="_blank">Q&amp;A - SSL 憑證推薦網 (code Sign)</a><br /><span style="color: #ffdb00;">★</span> <a href="https://www.sslbuyer.com/index.php?option=com_content&amp;view=article&amp;id=129:openssl-command-intro&amp;catid=25&amp;Itemid=2595" target="_blank">常用 OPENSSL 指令介紹 | SSL 憑證推薦網 (code Sign)</a><br /><font color="#ffdb00">★</font> <a href="http://paper.li/LinuxSec/1363957787?edition_id=d785f970-a8d9-11e6-898d-002590a5ba2d">Top #cloudcomputing news | paper.li</a><br /><br />資料來源：<br /><span style="color: #ffdb00;">★</span> <a href="https://docs.aws.amazon.com/acm/latest/userguide/import-certificate.html" target="_blank">Importing Certificates into AWS Certificate Manager | AWS Certificate Manager</a><br /></code>